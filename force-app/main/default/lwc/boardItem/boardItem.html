<template>
    <div class="slds-card">
        <template if:true={_showSpinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </template>

        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title"
                        onclick={showActivityDetails}>
                        <a class="slds-truncate" title={item.name}>
                            <span>{item.name}</span>
                        </a>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner">

            <div>
                <p> Status: <b><em>{item.status}</em></b></p>
                <a onclick={handleShowAttachmentModal}>
                    Attachments: <span class={attachmentClassName}>{item.attachments}</span>
                </a>
            </div>

            <c-file-uploader onuploadfile={addAttachment}></c-file-uploader>
            <!--            <lightning-input type="file"-->
            <!--                             label="Add Attachment"-->
            <!--                             onchange={addAttachment}>-->
            <!--            </lightning-input>-->
        </div>
        <!--        <footer class="slds-card__footer">-->
        <!--            <a class="slds-card__footer-action" href="#">View All-->
        <!--                <span class="slds-assistive-text">Accounts</span>-->
        <!--            </a>-->
        <!--        </footer>-->
    </div>

    <template if:true={showModal}>
        <c-attachment-modal attachments={attachments}
                            activity-id={item.id}
                            onuploadfile={addAttachmentFromModal}
                            onclose={handleCloseAttachmentModal}>
        </c-attachment-modal>
    </template>
</template>